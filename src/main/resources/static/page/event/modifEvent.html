<br></br>
<div class="alert alert-danger"
	style="position: fixed; right: 0; padding-right: 10px; width: 250px; z-index: 1;"
	ng-show="showErreur" role="alert">
	<div ng-repeat="msg in messageErreur">{{msg}}</div>
</div>
<div class="container-fluid">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Evenement {{evenement.idEvent}}</h1>
		</div>
		<!-- /.col-lg-12 -->
	</div>

	<!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="col-lg-2"
	ng-show="userConect.role.role!='COLLAB' && userConect.role.role!='CLIENT'">
	<button type="submit" class="btn btn-primary btn-block"
		ng-show="flagModif" ng-click="activerModification()">
		<i class="fa" aria-hidden="true"></i> Modifier
	</button>
</div>
<div class="col-lg-2">
	<button type="button" class="btn btn-primary btn-block"
		ng-click="retour()">Retour</button>
</div>

<div class="col-lg-2"
	ng-show="userConect.role.role!='COLLAB' && userConect.role.role!='CLIENT'">
	<button type="submit" class="btn btn-success btn-block"
		ng-show="!flagModif" ng-click="saveEvenement()">
		<i class="fa" aria-hidden="true"></i> Valider
	</button>
</div>
<div class="col-lg-2"
	ng-show="!flagModif && (userConect.role.role=='ADMIN' ||userConect.role.role=='CHEFP') ">

	<button type="submit" class="btn btn btn-danger btn-block"
		ng-click="deleteProjet(projet.idBd)">
		<i class="fa" aria-hidden="true"></i> Supprimer
	</button>
</div>

<br>
<br>

<form name="myForm">
	<div class="panel panel-default">
		<div class="panel-heading">Information Evenement</div>

		<div class="panel-body">
			<div class="row">
				<div class="panel-body">
					<div class="row">
						<div class="col-md-1">
							<label>Projet :</label>
						</div>
						<div class="col-md-3">
							<input ng-model="evenement.idPhase.projet.nomProjet"
								class="form-control" ng-disabled="true" type="text" />

						</div>
						<div class="col-md-1">
							<label>Phase :</label>
						</div>
						<div class="col-md-2">
							<input ng-model="evenement.idPhase.phase" class="form-control"
								ng-disabled="true" type="text" />
						</div>
						<div class="col-md-1">
							<label>Evenement:</label>
						</div>
						<div class="col-md-3">
							<input class="form-control" ng-model="evenement.idEvent"
								ng-disabled="true" required name="ing"
								placeholder="N Evenement " type="text" />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="col-lg-5">
						<div class="form-group">
							<label>Lot &agrave; traiter <span style="color: red">*</span></label>
							<br /> <label ng-show="showArchi" class="checkbox-inline">
								<input ng-model="evenement.archi" ng-show="showArchi"
								type="checkbox">A
							</label> <label class="checkbox-inline" ng-show="showGrosOeuvre">
								<input ng-disabled="flagModif" ng-show="showGrosOeuvre"
								ng-model="evenement.grosOeuvre" type="checkbox">CO
							</label> <label class="checkbox-inline" ng-show="showMetal"> <input
								ng-disabled="flagModif" ng-show="showMetal"
								ng-model="evenement.metal" type="checkbox">CM
							</label> <label class="checkbox-inline" ng-show="showBois"> <input
								ng-disabled="flagModif" ng-show="showBois"
								ng-model="evenement.bois" type="checkbox">CB
							</label> <label class="checkbox-inline" ng-show="showVoirie"> <input
								ng-disabled="flagModif" ng-show="showVoirie"
								ng-model="evenement.voirie" type="checkbox">VRD
							</label>
						</div>
					</div>
					<div class="col-lg-7">
						<div class="form-group">
							<label>Docs &agrave; transmettre </label> <br /> <label
								class="checkbox-inline"> <input
								ng-model="evenement.plans" type="checkbox">Plans
							</label> <label class="checkbox-inline"> <input
								ng-disabled="flagModif" ng-model="evenement.noteCalcul"
								type="checkbox">Note de calculs
							</label> <label class="checkbox-inline"> <input
								ng-disabled="flagModif" ng-model="evenement.quantitif"
								type="checkbox">Quantitatifs
							</label> <label class="checkbox-inline"> <input
								ng-disabled="flagModif" ng-model="evenement.modele3d"
								type="checkbox">Mod&egrave;le 3D
							</label> <label class="checkbox-inline"> <input
								ng-disabled="flagModif" ng-model="evenement.rapport"
								type="checkbox">Rapport
							</label>
						</div>
					</div>
				</div>

			</div>
			<div class="row">

				<div class="col-md-2">
					<div class="form-group">
						<label>Etat <span style="color: red">*</span></label>
					</div>
				</div>
				<div class="col-md-3">
					<select ng-disabled="flagModif" ng-model="evenement.statut.id"
						class="form-control">
						<option selected="true" ng-value="evenement.statut.id">{{evenement.statut.statut}}</option>
						<option ng-repeat="x in statuts" ng-value="x.id">{{x.statut}}</option>
					</select>
				</div>
				<div class="col-md-12">
					<div class="form-group">
						<label>Commentaire</label>
						<textarea class="form-control" ng-disabled="flagModif" rows="5"
							id="comment" ng-model="evenement.commentaire"
							placeholder="Commentaire"></textarea>
					</div>
				</div>


				<div class="col-md-3">
					<label>Quantification d&eacute;lai : </label>
				</div>
				<div class="col-md-2">

					<input class="form-control" ng-disabled="flagModif"
						ng-model="evenement.delaiHjIng" placeholder="JH Ing" type="text" />
				</div>
				<div class="col-md-2">

					<input class="form-control" ng-disabled="flagModif"
						ng-model="evenement.delaiHjTech" placeholder="JH Tech" type="text" />
				</div>
			</div>
			<br>
			<div class="row">
				<div class="col-md-2">
					<label>Date D&eacute;but : </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-disabled="flagModif"
						ng-model="evenement.dateDebut" format-date
						placeholder="date debut" type="date" />
				</div>



				<div class="col-md-2">
					<label>Date Ech&eacute;ance : </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-disabled="flagModif"
						ng-model="evenement.echeance" format-date
						placeholder="date Ech&eacute;ance" type="date" />
				</div>

			</div>
			<br>
			<div class="row">
				<div class="col-md-2">
					<label>Priorit&eacute; : </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-disabled="flagModif" max=10
						ng-model="evenement.priorite" placeholder="1 &agrave; 10 "
						type="number" />
				</div>
			</div>
		</div>

	</div>
<div class="panel panel-default">
		<div class="panel-heading">Historique des modifications :</div>

		<div class="panel-body">

				
<table id="example" class="table table-striped table-bordered" style="width:100%">
		<thead>
			<tr>
				<th scope="col">ID Element</th>
				<th scope="col">Type element</th>
				<th scope="col">Etat</th>
				<th scope="col">Date de modification</th>
				<th scope="col">Utilisateur</th>
				<th scope="col">Commentaire</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="hist in evenement.historique">
			<td>{{hist.elementId}}</td>
			<td>{{hist.element}}</td>
			<td>{{hist.statut}}</td>
			<td>{{hist.date | date:'yyyy-MM-dd HH:mm'}}</td>
			<td>{{hist.user}}</td>
			<td>{{hist.commentaire}}</td>
			</tr>
		</tbody>
		 <tfoot>
            <tr>
				<th scope="col">ID Element</th>
				<th scope="col">Type element</th>
				<th scope="col">Etat</th>
				<th scope="col">Date de modification</th>
				<th scope="col">Utilisateur</th>
				<th scope="col">Commentaire</th>
			</tr>
        </tfoot>
	</table>
	</div>
	</div>
	
<script type="text/javascript">
$(document).ready(function() {
    $('#example').DataTable();
} );
</script>
</form>