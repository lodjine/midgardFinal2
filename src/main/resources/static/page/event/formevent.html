<br></br>
<div   class="alert alert-danger" 
	style="position: fixed; right: 0; padding-right:10px;
    width: 250px; z-index: 1;" ng-show="showErreur" role="alert">
   <div ng-repeat="msg in messageErreur">{{msg}}</div> </div>
   <br></br>
  
<div class="container-fluid">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Nouvel Evenement</h1>
		</div>

	</div>

</div>

<form ng-submit="form.$valid && saveEvenement()" name="form">

	<div class="panel panel-default">
		<div class="panel-heading">Information Evenement</div>

		<div class="panel-body">
			<div class="row">
				<div class="panel-body">
					<div class="row">
						<div class="col-md-1">
							<label>Projet <span style="color: red">*</span></label>
						</div>
						<div class="col-md-3">
							<select ng-change="selectAllPhase()" ng-model="selected" required
								style="width: 100%" class=" form-control">
								<option value="" disabled="" selected="">Selectionner
									un projet </option>
								<option ng-repeat="x in projets" ng-value="x">{{x}}</option>
							</select>
						</div>
						<div class="col-md-1">
							<label>Phase <span style="color: red">*</span></label>
						</div>
						<div class="col-md-4">
							<select ng-change="selectPhase()" ng-model="selectedPhase"
								required style="width: 100%" class=" form-control">
								<option ng-selected="true" ng-value="">Selectionner une
									phase</option>
								<option ng-repeat="x in phases " ng-value="x.idphas"
									>{{x.idPhase}}</option>
							</select>
						</div>
<!-- 						<div class="col-md-1"> -->
<!-- 							<label>Evenement:</label> -->
<!-- 						</div> -->
						<div class="col-md-3">
							<input class="form-control" ng-model="event.idEvent"
								 required name="ing" disabled="true"
								placeholder="N Evenement " type="text" />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="col-lg-5">
						<div class="form-group">
							<label>Lot &agrave; traiter <span style="color: red">*</span></label> <br /> 
							<label ng-show="showArchi"
								class="checkbox-inline"> 
								<input ng-model="event.archi" ng-show="showArchi"
								type="checkbox">A
							</label>
							 <label class="checkbox-inline" ng-show="showGrosOeuvre"> <input ng-show="showGrosOeuvre"
								ng-model="event.grosOeuvre" type="checkbox">CO
							</label> <label class="checkbox-inline" ng-show="showMetal"> <input ng-show="showMetal"
								ng-model="event.metal" type="checkbox">CM
							</label> <label class="checkbox-inline"  ng-show="showBois"> <input ng-show="showBois"
								ng-model="event.bois" type="checkbox">CB
							</label> <label class="checkbox-inline"  ng-show="showVoirie"> <input ng-show="showVoirie"
								ng-model="event.voirie" type="checkbox">VRD
							</label>
						</div>
					</div>
					<div class="col-lg-7">
						<div class="form-group">
							<label>Docs &agrave; transmettre </label> <br /> <label
								class="checkbox-inline"> <input ng-model="event.plans"
								type="checkbox">Plans
							</label> <label class="checkbox-inline"> <input
								ng-model="event.noteCalcul" type="checkbox">Note de
								calculs
							</label> <label class="checkbox-inline"> <input
								ng-model="event.quantitif" type="checkbox">Quantitatifs
							</label> <label class="checkbox-inline"> <input
								ng-model="event.modele3d" type="checkbox">Mod&egrave;le
								3D
							</label> <label class="checkbox-inline"> <input
								ng-model="event.rapport" type="checkbox">Rapport
							</label>
						</div>
					</div>
				</div>

			</div>
			<div class="row">
<!-- 				<div class="col-md-1"> -->
<!-- 					<label>Etat : </label> -->
<!-- 				</div> -->
<!-- 				<div class="col-md-4"> -->


<!-- 					<select required="required" style="width: 100%" class=" form-control" -->
<!-- 						ng-model="event.etat"> -->
<!-- 						<option>choisir un &eacute;tat</option> -->
<!-- 						<option>Non trait&eacute;</option> -->
<!-- 						<option>En cours</option> -->
<!-- 						<option>V&eacute;rifi&eacute;</option> -->
<!-- 						<option>Termin&eacute;</option> -->
<!-- 						<option>Arr&ecirc;t</option> -->
<!-- 						<option>Abandon</option> -->
<!-- 					</select> -->
<!-- 				</div> -->
				<div class="col-md-3">
					<label>Quantification d&eacute;lai <span style="color: red">*</span> </label>
				</div>
				<div class="col-md-2">

					<input class="form-control" ng-model="event.delaiHjIng" required onkeypress='return event.charCode >= 48 && event.charCode <= 57'
						name="ing" placeholder="JH Ing" type="text" />
				</div>
				<div class="col-md-2">

					<input class="form-control" ng-model="event.delaiHjTech" required onkeypress='return event.charCode >= 48 && event.charCode <= 57'
						name="tech" placeholder="JH Tech" type="text" />
				</div>
			</div>
			<br>
			<div class="row">
				<div class="col-md-2">
					<label>Date D&eacute;but <span style="color: red">*</span> </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-model="event.dateDebut"
						min="{{dateMin | date:'yyyy-MM-dd'}}" required
						max="{{dateMax | date:'yyyy-MM-dd'}}" ng-change="change(true)"
						ng-style="isTrue && {'border-color':'red'} || {'background-color': 'none'}"
						placeholder="date debut" type="date" /> <span ng-show="isTrue"
						style="color: red">{{message}}</span>

				</div>

<!-- 				<div class="col-md-2"> -->
<!-- 					<label>Date Fin : </label> -->
<!-- 				</div> -->
<!-- 				<div class="col-md-2"> -->
<!-- 					<input class="form-control" ng-model="event.dateFin" -->
<!-- 						min="{{dateMin | date:'yyyy-MM-dd'}}" -->
<!-- 						max="{{dateMax | date:'yyyy-MM-dd'}}" ng-change="change()" -->
<!-- 						ng-style="isTrue && {'border-color':'red'} || {'background-color': 'none'}" -->
<!-- 						placeholder="date fin" type="date" /> <span ng-show="isTrue" -->
<!-- 						style="color: red">Date fin Invalid</span> -->
<!-- 				</div> -->
				<div class="col-md-2">
					<label>Date Ech&eacute;ance <span style="color: red">*</span></label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-model="event.echeance" required
						 type="date" ng-change="change()"
						min="{{dateMin | date:'yyyy-MM-dd'}}" required
						max="{{dateMax | date:'yyyy-MM-dd'}}" ng-change="change()"
						ng-style="isTrue && {'border-color':'red'} || {'background-color': 'none'}"
						placeholder="date Ech&eacute;ance" type="date" /> <span ng-show="isTrue"
						style="color: red">{{message}}</span>
						
				</div>

			</div>
			<br>
			<div class="row">
				
			</div>
		</div>
	</div>

	<button type="submit" class="btn btn-success">Enregister</button>
	<button type="button" class="btn btn-primary" ng-click="retour()">Retour</button>
	</div>


	<input hidden="true" ng-model="event.delaiHjIngCumul"> <input
		hidden="true" ng-model="event.delaiHjTechCumul"> <input
		hidden="true" ng-model="event.etatAvancement"> <input
		hidden="true" ng-model="event.nbTaches">


</form>
	<br>
	 <div   class="alert alert-danger" 
	style="position: fixed; right: 0; padding-right:10px;
    width: 250px; z-index: 1;" ng-show="showErreurTache" role="alert">
   <div ng-repeat="msg in messageErreurTache">{{msg}}</div> </div>
<form ng-submit="form.$valid && saveTache()" name="form">
	<div class="panel panel-default">
		<div class="panel-heading">Information Tache (Optionnel)</div>

		<div class="panel-body">
			<div class="panel-body">
				<div class="row">


					<div class="col-lg-6">
						<div class="form-group">
							<label>Intervenant</label> <select ng-change="selectOperateur()"
								ng-model="tache.operateur.id" style="width: 100%" class=" form-control">
								<option ng-repeat="x in users" ng-value="x.id">{{x.name}}</option>
							</select>
						</div>
					</div>


					<div class="col-lg-6">
						<div class="form-group">
							<label>Description</label> <input class="form-control"
								ng-model="tache.description" placeholder="description "
								type="text" />
						</div>
					</div>



					<div class="col-lg-6"
						ng-show="user.ingenieur && selectedUser && event.delaiHjIng">
						<div class="form-group">
							<label>Hj ing</label> <input class="form-control"
								ng-model="tache.hjIng" placeholder="nombre" type="number"
								ng-change="nombreHIng()" min=0 /> <span
								ng-show="tache.hjIng > event.delaiHjIng"
								style="color: red">max heures ingenieur depasse</span>
						</div>
					</div>

					<div class="col-lg-6"
						ng-show="!user.ingenieur && selectedUser && event.delaiHjTech">
						<div class="form-group">
							<label>Hj tech</label> <input class="form-control"
								ng-change="nombreHTech()" min=0 ng-model="tache.hjTech"
								placeholder="nombre" type="text" /> <span
								ng-show="tache.hjTech >event.delaiHjTech"
								style="color: red">max heures technicien depasse </span>
						</div>
					</div>
					
				</div>


			</div>
		</div>
	</div>



</form>





















