<br></br>
<div   class="alert alert-danger" 
	style="position: fixed; right: 0; padding-right:10px;
    width: 250px; z-index: 1;" ng-show="showErreurTicket" role="alert">
   <div ng-repeat="msg in messageErreurTicket">{{msg}}</div> </div>

<div class="container-fluid">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Ajouter Ticket</h1>
		</div>

	</div>
</div>
<form name="form" ng-submit="form.$valid && saveTicket()">
	<div class="panel panel-default">
		<div class="panel-heading">Information Ticket</div>

		<div class="panel-body">

			<div class="row">
				<div class="col-md-2">
					<label>Type Ticket : </label>
				</div>
				<div class="col-md-3">
					<select  style="width: 100%" ui-select2
						ng-change="selectType(typeTicket)" ng-model="typeTicket">
						<option>choisir type</option>
						<option>Projet</option>
						<option>Evenement</option>
						<option>Tache</option>
					</select>
				</div>

				<div class="col-md-2">
					<label>Projet :</label>
				</div>
				<div class="col-md-3">
					<select ng-change="selectEvent()" ng-model="ticket.projet.idProjet"
						style="width: 100%" ui-select2>
						<option ng-selected="true" ng-value="">Selectionner un
							projet</option>
						<option ng-repeat="x in projets" ng-value="x">{{x}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row" ng-show="showprojet">
				<div class="col-md-2" ng-show="showevent">
					<label>Evenement :</label>
				</div>
				<div class="col-md-3" ng-show="showevent">
					<select ng-change="selectTache()"
						ng-model="ticket.idEvenement.idEvenement" style="width: 100%" ui-select2>
						<option ng-repeat="x in events" ng-value="x.idEvenement">{{x.idEvent}}</option>
					</select>
				</div>
				<div class="col-md-2" ng-show="showtache">
					<label> Tache :</label>
				</div>
				<div class="col-md-3" ng-show="showtache">
					<select ng-model="ticket.tache.idBd" style="width: 100%" ui-select2>
						<option ng-repeat="x in taches" ng-value="x.idBd">{{x.idTache}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row">
				<div class="col-md-2">
					<label>Emetteur :</label>
				</div>
				<div class="col-md-3">
					<select ng-model="ticket.emetteur.id" style="width: 100%" ui-select2>
						<option ng-repeat="x in users" ng-value="x.id">{{x.name}}</option>
					</select>
				</div>
				<div class="col-md-2">
					<label>Destinataire :</label>
				</div>
				<div class="col-md-3">
					<select ng-model="listSelectedDesti" style="width: 100%" ui-select2 multiple >
						<option ng-repeat="x in users" ng-value="x.id">{{x.name}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row">
				<div class="col-md-2">
					<label>Sujet :</label>
				</div>
				<div class="col-md-4">
					<input class="form-control" ng-model="ticket.sujet"
						placeholder="Sujet " type="text" />
				</div>
				<div class="col-md-2">
					<label>Priorit&eacute; : </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-model="ticket.priorite" required
						placeholder="1 &agrave; 10 " type="number" max=10 min=0 />
				</div>
			</div>
			<br></br>
			<div class="row">

				<div class="col-md-2">
					<label>Date Ech&eacute;ance : </label>
				</div>
				<div class="col-md-3">
					<input class="form-control" 
						ng-model="ticket.dateEchance" placeholder="Date Ech&eacute;ance"
						type="date" />

				</div>
			
			</div>
		</div>
	</div>
	<button type="submit" class="btn btn-success">Enregister</button>
	<button type="button" class="btn btn-primary" ng-click="retour()">Retour</button>
</form>