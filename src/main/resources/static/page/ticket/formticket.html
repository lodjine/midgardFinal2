
<div class="container-fluid">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Ajouter Ticket</h1>
		</div>

	</div>
</div>
<form name="form" ng-submit="form.$valid && saveTicket()">
	<div class="panel panel-default">
		<div class="panel-heading">Information Ticket</div>

		<div class="panel-body">

			<div class="row">
				<div class="col-md-2">
					<label>Type Ticket : </label>
				</div>
				<div class="col-md-3">
					<select required="required" class="form-control"
						ng-change="selectType(typeTicket)" ng-model="typeTicket">
						<option>choisir type</option>
						<option>Projet</option>
						<option>Evenement</option>
						<option>Tache</option>
					</select>
				</div>

				<div class="col-md-2">
					<label>Projet :</label>
				</div>
				<div class="col-md-3">
					<select ng-change="selectEvent()" ng-model="ticket.projet.idbd"
						class="form-control">
						<option ng-selected="true" ng-value="">Selectionner un
							projet</option>
						<option ng-repeat="x in projets" ng-value="x.idbd">{{x.idProjet}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row" ng-show="showprojet">
				<div class="col-md-2" ng-show="showevent">
					<label>Evenement :</label>
				</div>
				<div class="col-md-3" ng-show="showevent">
					<select ng-change="selectTache()"
						ng-model="ticket.idEvenement.idEvenement" class="form-control">
						<option ng-repeat="x in events" ng-value="x.idEvenement">{{x.idEvent}}</option>
					</select>
				</div>
				<div class="col-md-2" ng-show="showtache">
					<label> Tache :</label>
				</div>
				<div class="col-md-3" ng-show="showtache">
					<select ng-model="ticket.tache.idBd" class="form-control">
						<option ng-repeat="x in taches" ng-value="x.idBd">{{x.idTache}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row">
				<div class="col-md-2">
					<label>Emetteur :</label>
				</div>
				<div class="col-md-3">
					<select ng-model="ticket.emetteur.id" class="form-control">
						<option ng-repeat="x in users" ng-value="x.id">{{x.name}}</option>
					</select>
				</div>
				<div class="col-md-2">
					<label>Destinataire :</label>
				</div>
				<div class="col-md-3">
					<select ng-model="list" class="form-control" multiple ng-change="selectUser(list)" >
						<option ng-repeat="x in users" ng-value="x.id">{{x.name}}</option>
					</select>
				</div>
			</div>
			<br></br>
			<div class="row">
				<div class="col-md-2">
					<label>Sujet :</label>
				</div>
				<div class="col-md-4">
					<input class="form-control" ng-model="ticket.sujet"
						placeholder="Sujet " type="text" />
				</div>
				<div class="col-md-2">
					<label>Priorit&eacute; : </label>
				</div>
				<div class="col-md-2">
					<input class="form-control" ng-model="ticket.priorite" required
						placeholder="1 &agrave; 10 " type="text" />
				</div>
			</div>
			<br></br>
			<div class="row">

				<div class="col-md-2">
					<label>Date Ech&eacute;ance : </label>
				</div>
				<div class="col-md-3">
					<input class="form-control" 
						ng-model="ticket.dateEchance" placeholder="Date Ech&eacute;ance"
						type="date" />

				</div>
				<div class="col-md-2">
					<label>Etat : </label>
				</div>
				<div class="col-md-3">


					<select required="required" class="form-control"
						ng-model="ticket.etat">
						<option>choisir un &eacute;tat</option>
						<option>Non trait&eacute;</option>
						<option>En cours</option>
						<option>Arr&ecirc;t</option>
						<option>Rejet&eacute;</option>
						<option>Trait&eacute;</option>
					</select>
				</div>
			</div>
		</div>
	</div>
	<button type="submit" class="btn btn-success">Enregister</button>
	<button type="button" class="btn btn-primary" ng-click="retour()">Retour</button>
</form>